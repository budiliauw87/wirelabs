<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bootstrap w/ Vite</title>
  <script type="module" src="./js/main.js"></script>
</head>

<body class="bg-body-secondary">
  
  <header class="navbar navbar-expand-lg sticky-top  bg-body-tertiary shadow-sm">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">
        <i class="bi bi-shop d-inline-block align-text-bottom me-1"></i>
        Bootstrap 5 <span>Vite</span>
      </a>
      <ul class="nav nav-pills">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="#">Active</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Link</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Link</a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" aria-disabled="true">Disabled</a>
        </li>
        <li class="nav-item">
          <a href="/cart.html" class="btn btn-primary  position-relative">
            <i class="bi bi-bag"></i>
            <span id="nav-cart" class="position-absolute translate-middle top-0 badge rounded-pill bg-danger">
              0
            </span>
          </a>
        </li>
      </ul>

    </div>
  </header>
  <main class="">
    <div class="container-fluid py-3 px-3 mx-auto">
      <div class=" overflow-x-auto pb-3">
        
        <div class="btn-group overflow-x-auto" role="group" aria-label="Basic radio toggle button group">
          
          <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked>
          <label class="btn btn-outline-primary rounded-pill mx-1 text-truncate" for="btnradio1">Radio 1</label>
  
          <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off">
          <label class="btn btn-outline-primary rounded-pill mx-1 text-truncate" for="btnradio2">Radio 2</label>
  
          <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off">
          <label class="btn btn-outline-primary rounded-pill mx-1 text-truncate" for="btnradio3">Radio 3</label>
          <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off">
          <label class="btn btn-outline-primary rounded-pill mx-1 text-truncate" for="btnradio3">Radio 3</label>
          
          <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off">
          <label class="btn btn-outline-primary rounded-pill mx-1 text-truncate" for="btnradio3">Radio 3</label>
          <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off">
          <label class="btn btn-outline-primary rounded-pill mx-1 text-truncate" for="btnradio3">Radio 3</label>
          <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off">
          <label class="btn btn-outline-primary rounded-pill mx-1 text-truncate" for="btnradio3">Radio 3</label>
          <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off">
          <label class="btn btn-outline-primary rounded-pill mx-1 text-truncate" for="btnradio3">Radio 3</label>

        </div>
      </div>
 
      <div class="grid my-3" id="product-item">
        <div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>

              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Tambah
              </button>

            </div>
          </div>
        </div>
        <div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue2.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>

              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Tambah
              </button>

            </div>
          </div>
        </div>
        <div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>
              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Tambah
              </button>
            </div>
          </div>
        </div>
        <div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue2.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>
              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Tambah
              </button>
            </div>
          </div>
        </div>
        <div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>
              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Tambah
              </button>
            </div>
          </div>
        </div>
        <div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>
              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Tambah
              </button>
            </div>
          </div>
        </div>


        <div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>
              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Tambah
              </button>
            </div>
          </div>
        </div>
        <div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>
              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Tambah
              </button>
            </div>
          </div>
        </div>

        <div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>
              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Tambah
              </button>
            </div>
          </div>
        </div>
        <div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>
              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Tambah
              </button>
            </div>
          </div>
        </div>

        <div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>
              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Tambah
              </button>
            </div>
          </div>
        </div>
        <div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>
              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Contoh
              </button>
            </div>
          </div>
        </div>
      </div><!-- end grids-->
      <!--loaders -->
      <div id="loader-item" class="d-flex justify-content-center 
          visually-hidden my-3">
        <div class="spinner-border" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>

      

    </div>
  </main>
  <script type="text/javascript">
    /*
    'use strict'

    const carts = [];
    const btnCart = document.getElementsByClassName('btn-add-cart');
    let badgeCart = document.getElementById('nav-cart')
    badgeCart.textContent = 0;
    
    for( let index = 0; index < btnCart.length; index++ ){
      btnCart[index].addEventListener('click',(event)=>{
        carts.push('tester');
        badgeCart.textContent = carts.length;
      });
    }  

    let isLoading = false;
    function throttle(callback, time){
      if(isLoading) return;
      isLoading = true;
      setTimeout(()=>{
        callback();
        isLoading = false;
      },time);
    }

    async function getData(){
      console.log('fetch data');
      const containerItems = document.getElementById('product-item');
      const elproduct = `<div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>
              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Tambah
              </button>
            </div>
          </div>
        </div>
        <div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue2.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>
              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Tambah
              </button>
            </div>
          </div>
        </div>
        <div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>
              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Tambah
              </button>
            </div>
          </div>
        </div>
        <div class="g-col-6 g-col-md-4 g-col-xl-3">
          <div class="card">
            <img src="/img/kue2.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title m-0 p-0">Card title</h5>
              <p class="card-text">IDR 5,000</p>
              <button class="btn btn-primary btn-sm btn-add-cart">
                <i class="bi bi-plus"></i> Tambah
              </button>
            </div>
          </div>
        </div>`;
      containerItems.insertAdjacentHTML('beforeend',elproduct);
      
    }

    function showLoading(){
      let loader = document.getElementById('loader-item');
      loader.classList.remove('visually-hidden');
      setTimeout(()=>{
        loader.classList.add('visually-hidden');
        setTimeout(()=>{
          getData();
        },300);
       
      },600);
    }


    function handleScroll(){
      throttle(()=>{
        let offsetHeight = document.body.offsetHeight;
        let pageHeight = window.innerHeight + window.scrollY;
       
        if(offsetHeight <= pageHeight){
          showLoading();
        }
       
      },1000)
    }

    document.addEventListener('scroll',handleScroll);

    document.addEventListener("DOMContentLoaded", (event) => {
      const header = document.getElementById('navbar-header');
      //console.log(header.offsetHeight)
    });*/

  </script>
</body>

</html>